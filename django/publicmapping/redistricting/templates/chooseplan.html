{% comment %}

   Copyright 2010 Micah Altman, Michael McDonald

   Licensed under the Apache License, Version 2.0 (the "License");
   you may not use this file except in compliance with the License.
   You may obtain a copy of the License at

       http://www.apache.org/licenses/LICENSE-2.0

   Unless required by applicable law or agreed to in writing, software
   distributed under the License is distributed on an "AS IS" BASIS,
   WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
   See the License for the specific language governing permissions and
   limitations under the License.

   This file is part of The Public Mapping Project
   http://sourceforge.net/projects/publicmapping/

   Purpose:
       This template is a plan chooser dialog.

       This template contains an HTML fragment which is used to pick
       templates, shared plans, individual plans, and new plans.

   Author: David Zwarg, Andrew Jennings

{% endcomment %}
<div id="PlanChooser" title = "Choose a Plan. {% if not is_anonymous %} Start Drawing.{% endif %}">


  <ul id="TemplateTypeButtons">
    {% if not is_anonymous %}
    <li id="btnTemplate">Template</li>
    {% endif %}
    <li id="btnShared">Shared Plans</li>
    {% if not is_anonymous %}
    <li id="btnMine">Plans saved by {{ user }}</li>
    <li id="btnBlank">Blank Map</li>  
    {% endif %}
  </ul>

<div id="TemplateTypeContent">
<div id="SelectorsHelp">
    To start, click on a button to determine which kind of template you'll be using.
</div>

<div id="TemplateSelectors">
        <div id="TemplateSelection" class="SelectionGroup" >
    {% if templates %}
        <label>Select a Template</label>
        <select id="ddlTemplate" class="Selectors" >
        {% for plan in templates %}
            <option value="{{ plan.id }}">{{ plan.name }}</option>
        {% endfor %}
        </select>
    {% else %}<span class="Selectors">Sorry, no templates are available at this time.</span>
    {% endif %}
        </div>
        <div id="SharedSelection" class="SelectionGroup" >
    {% if shared %}
        <select id="ddlShared" class="Selectors">
        {% for plan in shared %}
            <option value="{{ plan.id }}">{{ plan.owner.username}}'s plan: {{ plan.name }}</option>
        {% endfor %}
        </select>
    {% else %}<span class="Selectors">Sorry, no shared plans are available at this time.</span>
    {% endif %}
        </div>
        <div id="MineSelection" class="SelectionGroup" >
        <label>Select a Plan</label>
    {% if mine %}
        <select id="ddlMine" class="Selectors">
        {% for plan in mine %}
            <option value="{{ plan.id }}">{{ plan.name }}</option>
        {% endfor %}
        </select>
        <div>
        <input type="radio" name="Edit" value="edit" checked>Edit Selected Plan</input>
        <input type="radio" name="Edit" value="saveas">Copy and Save Selected Plan</input>
        </div>
    {% else %}<span class="Selectors">Sorry, you have no plans available at this time.</span>
    {% endif %}
        </div>
</div>

{% if not is_anonymous %}
<div id="NewName">
    <label for="txtNewName" id="lblNewName">Name your new plan:</label>
    <input type="text" id="txtNewName" />
</div>
<button id="btnSelectPlan" type="submit">Start Drawing</button>
{% else %}
{% if shared %}
<button id="btnSelectPlan" type="submit">View Plan</button>
{% endif %}
{% endif %}
</div>

</div>
